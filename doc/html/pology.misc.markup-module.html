<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>pology.misc.markup</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="pology-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="pology-module.html">Package&nbsp;pology</a> ::
        <a href="pology.misc-module.html">Package&nbsp;misc</a> ::
        Module&nbsp;markup
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module markup</h1><p class="nomargin-top"></p>
<p>Process text markup.</p>

<hr />
<div class="fields">      <p><strong>Author:</strong>
        Chusslove Illich (&#1063;&#1072;&#1089;&#1083;&#1072;&#1074; &#1048;&#1083;&#1080;&#1115;) &lt;caslav.ilic@gmx.net&gt;
      </p>
      <p><strong>License:</strong>
        GPLv3
      </p>
</div><!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Functions</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#plain_to_unwrapped" class="summary-sig-name">plain_to_unwrapped</a>(<span class="summary-sig-arg">text</span>)</span><br />
      Convert wrapped plain text to unwrapped.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#xml_to_plain" class="summary-sig-name">xml_to_plain</a>(<span class="summary-sig-arg">text</span>,
        <span class="summary-sig-arg">tags</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">subs</span>=<span class="summary-sig-default"><code class="variable-group">{</code><code class="variable-group">}</code></span>,
        <span class="summary-sig-arg">ents</span>=<span class="summary-sig-default"><code class="variable-group">{</code><code class="variable-group">}</code></span>,
        <span class="summary-sig-arg">keepws</span>=<span class="summary-sig-default"><code class="variable-group">set([</code><code class="variable-group">])</code></span>,
        <span class="summary-sig-arg">ignels</span>=<span class="summary-sig-default"><code class="variable-group">set([</code><code class="variable-group">])</code></span>)</span><br />
      Convert any XML-like markup to plain text.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#qtrich_to_plain" class="summary-sig-name">qtrich_to_plain</a>(<span class="summary-sig-arg">text</span>)</span><br />
      Convert Qt rich-text markup to plain text.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#kuit_to_plain" class="summary-sig-name">kuit_to_plain</a>(<span class="summary-sig-arg">text</span>)</span><br />
      Convert KUIT markup to plain text.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#kde4_to_plain" class="summary-sig-name">kde4_to_plain</a>(<span class="summary-sig-arg">text</span>)</span><br />
      Convert KDE4 GUI markup to plain text.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#docbook4_to_plain" class="summary-sig-name">docbook4_to_plain</a>(<span class="summary-sig-arg">text</span>)</span><br />
      Convert Docbook 4.x markup to plain text.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#collect_xml_spec_l1" class="summary-sig-name">collect_xml_spec_l1</a>(<span class="summary-sig-arg">specpath</span>)</span><br />
      Collect informal XML format specification, level 1.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of (int, int, string) tuples</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#check_xml_l1" class="summary-sig-name">check_xml_l1</a>(<span class="summary-sig-arg">text</span>,
        <span class="summary-sig-arg">spec</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">xmlfmt</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">ents</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">casesens</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">accelamp</span>=<span class="summary-sig-default">False</span>)</span><br />
      Validate XML markup in text against <a 
      href="pology.misc.markup-module.html#collect_xml_spec_l1" 
      class="link">level1</a> specification.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of (int, int, string) tuples</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#check_xml_docbook4_l1" class="summary-sig-name">check_xml_docbook4_l1</a>(<span class="summary-sig-arg">text</span>,
        <span class="summary-sig-arg">ents</span>=<span class="summary-sig-default">None</span>)</span><br />
      Validate Docbook 4.x markup in text against <a 
      href="pology.misc.markup-module.html#collect_xml_spec_l1" 
      class="link">level1</a> specification.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of (int, int, string) tuples</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#check_placeholder_els" class="summary-sig-name">check_placeholder_els</a>(<span class="summary-sig-arg">orig</span>,
        <span class="summary-sig-arg">trans</span>)</span><br />
      Check if sets of <code>&lt;placeholder-N/&gt;</code> elements are 
      matching between original and translated text.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of (int, int, string) tuples</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#check_xml_qtrich_l1" class="summary-sig-name">check_xml_qtrich_l1</a>(<span class="summary-sig-arg">text</span>,
        <span class="summary-sig-arg">ents</span>=<span class="summary-sig-default">None</span>)</span><br />
      Validate Qt rich-text markup in text against <a 
      href="pology.misc.markup-module.html#collect_xml_spec_l1" 
      class="link">level1</a> specification.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of (int, int, string) tuples</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#check_xml_kuit_l1" class="summary-sig-name">check_xml_kuit_l1</a>(<span class="summary-sig-arg">text</span>,
        <span class="summary-sig-arg">ents</span>=<span class="summary-sig-default">None</span>)</span><br />
      Validate KUIT markup in text against <a 
      href="pology.misc.markup-module.html#collect_xml_spec_l1" 
      class="link">level1</a> specification.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of (int, int, string) tuples</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.markup-module.html#check_xml_kde4_l1" class="summary-sig-name">check_xml_kde4_l1</a>(<span class="summary-sig-arg">text</span>,
        <span class="summary-sig-arg">ents</span>=<span class="summary-sig-default">None</span>)</span><br />
      Validate markup in texts used in KDE4 GUI.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Variables</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="pology.misc.markup-module.html#xml_entities" class="summary-name">xml_entities</a> = <code title="{'amp': '&amp;', 'apos': '\'', 'gt': '&gt;', 'lt': '&lt;', 'quot': '&quot;'}"><code class="variable-group">{</code><code class="variable-quote">'</code><code class="variable-string">amp</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">'</code><code class="variable-string">&amp;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">apos</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">'</code><code class="variable-string">\'</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">gt</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">'</code><code class="variable-string">&gt;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">lt</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">'</code><code class="variable-string">&lt;</code><code class="variable-quote">'</code><code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="WS_SPACE"></a><span class="summary-name">WS_SPACE</span> = <code title="'\x04~sp'"><code class="variable-quote">'</code><code class="variable-string">\x04~sp</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="WS_TAB"></a><span class="summary-name">WS_TAB</span> = <code title="'\x04~tb'"><code class="variable-quote">'</code><code class="variable-string">\x04~tb</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="WS_NEWLINE"></a><span class="summary-name">WS_NEWLINE</span> = <code title="'\x04~nl'"><code class="variable-quote">'</code><code class="variable-string">\x04~nl</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="html_entities"></a><span class="summary-name">html_entities</span> = <code title="{u'nbsp': u'&#160;', u'reg': u'&#174;', u'tm': u'&#8482;'}"><code class="variable-group">{</code><code class="variable-quote">u'</code><code class="variable-string">nbsp</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">u'</code><code class="variable-string">&#160;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">u'</code><code class="variable-string">reg</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">u'</code><code class="variable-string">&#174;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">u'</code><code class="variable-string">tm</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">u'</code><code class="variable-string">&#8482;</code><code class="variable-quote">'</code><code class="variable-group">}</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="x"></a><span class="summary-name">x</span> = <code title="'item'"><code class="variable-quote">'</code><code class="variable-string">item</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="y"></a><span class="summary-name">y</span> = <code title="' '"><code class="variable-quote">'</code><code class="variable-string"> </code><code class="variable-quote">'</code></code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Function Details</span></td>
</tr>
</table>
<a name="plain_to_unwrapped"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">plain_to_unwrapped</span>(<span class="sig-arg">text</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Convert wrapped plain text to unwrapped.</p>
  <p>Two or more newlines are considered as paragraph boundaries and left 
  in, while all other newlines are removed. Whitespace in the text is 
  simplified throughout.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text</code></strong> (string) - text to unwrap</li>
    </ul></dd>
    <dt>Returns: string</dt>
        <dd>unwrapped text</dd>
  </dl>
</td></tr></table>
</div>
<a name="xml_to_plain"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">xml_to_plain</span>(<span class="sig-arg">text</span>,
        <span class="sig-arg">tags</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">subs</span>=<span class="sig-default"><code class="variable-group">{</code><code class="variable-group">}</code></span>,
        <span class="sig-arg">ents</span>=<span class="sig-default"><code class="variable-group">{</code><code class="variable-group">}</code></span>,
        <span class="sig-arg">keepws</span>=<span class="sig-default"><code class="variable-group">set([</code><code class="variable-group">])</code></span>,
        <span class="sig-arg">ignels</span>=<span class="sig-default"><code class="variable-group">set([</code><code class="variable-group">])</code></span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Convert any XML-like markup to plain text.</p>
  <p>By default, all tags in the text are replaced with a single space; 
  entities, unless one of the XML default (<code>&amp;lt;</code>, 
  <code>&amp;gt;</code>, <code>&amp;amp;</code>, <code>&amp;quot;</code>, 
  <code>&amp;apos;</code>), are left untouched; all whitespace groups are 
  simplified to single space and leading and trailing removed.</p>
  <p>If only a particular subset of tags should be taken into account, it 
  can be specified by the <code>tags</code> parameter, as a sequence of tag
  names (the sequence is internally converted to set before 
  processing).</p>
  <p>If a tag should be replaced with a special sequence of characters 
  (either opening or closing tag), or the text wrapped by it replaced too, 
  this can be specified by the <code>subs</code> parameter. It is a 
  dictionary of 3-tuples by tag name, which tells what to replace with the 
  opening tag, the closing tag, and the wrapped text. For example, to 
  replace <code>&lt;i&gt;foobar&lt;/i&gt;</code> with 
  <code>/foobar/</code>, the dictionary entry would be 
  <code>{&quot;i&quot;: (&quot;/&quot;, &quot;/&quot;, None)}</code> (where
  final <code>None</code> states not to touch the wrapped text); to replace
  <code>&lt;code&gt;...&lt;/code&gt;</code> with <code>@@@</code> (i.e. 
  remove code segment completely but leave in a marker that there was 
  something), the entry is <code>{&quot;code&quot;: (&quot;&quot;, 
  &quot;&quot;, &quot;@@@&quot;)}</code>. Note that whitespace is 
  automatically simplified, so if whitespace given by the replacements 
  should be exactly preserved, use <code>WS_*</code> string constants in 
  place of corresponding whitespace characters.</p>
  <p>To have some entities other than the XML default replaced with proper 
  values, a dictionary of known entities with values may be provided using 
  the <code>ents</code> parameter.</p>
  <p>Whitespace can be preserved within some elements, as given by their 
  tags in the <code>keepws</code> sequence.</p>
  <p>Some elements may be completely removed, as given by the 
  <code>ignels</code> sequence. Each element of the sequence should either 
  be a tag, or a (tag, type) tuple, where type is the value of the 
  <code>type</code> argument to element, if any.</p>
  <p>It is assumed that the markup is well-formed, and if it is not the 
  result is undefined; but best attempt at conversion is made.</p>
  <p>There are several other functions in this module which deal with well 
  known markups, such that it is not necessary to use this function with 
  <code>tags</code>, <code>subs</code>, or <code>ents</code> manually 
  specified.</p>
  <p>If you only want to resolve entities from a known set, instead of 
  calling this function with empty <code>tags</code> and entities given in 
  <code>ents</code>, consider using the more powerfull <a 
  href="pology.misc.resolve-module.html#resolve_entities" 
  class="link">pology.misc.resolve.resolve_entities</a>.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text</code></strong> (string) - markup text to convert to plain</li>
        <li><strong class="pname"><code>tags</code></strong> (sequence of strings) - known tags</li>
        <li><strong class="pname"><code>subs</code></strong> (dictionary of 3-tuples) - replacement specification</li>
        <li><strong class="pname"><code>ents</code></strong> (dictionary) - known entities and their values</li>
        <li><strong class="pname"><code>keepws</code></strong> (sequence of strings) - tags of elements in which to preserve whitespace</li>
        <li><strong class="pname"><code>ignels</code></strong> (sequence of strings and (string, string) tuples) - tags or tag/types or elements to completely remove</li>
    </ul></dd>
    <dt>Returns: string</dt>
        <dd>plain text version</dd>
  </dl>
</td></tr></table>
</div>
<a name="qtrich_to_plain"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">qtrich_to_plain</span>(<span class="sig-arg">text</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Convert Qt rich-text markup to plain text.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text</code></strong> (string) - Qt rich text to convert to plain</li>
    </ul></dd>
    <dt>Returns: string</dt>
        <dd>plain text version</dd>
  </dl>
</td></tr></table>
</div>
<a name="kuit_to_plain"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">kuit_to_plain</span>(<span class="sig-arg">text</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Convert KUIT markup to plain text.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text</code></strong> (string) - KUIT text to convert to plain</li>
    </ul></dd>
    <dt>Returns: string</dt>
        <dd>plain text version</dd>
  </dl>
</td></tr></table>
</div>
<a name="kde4_to_plain"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">kde4_to_plain</span>(<span class="sig-arg">text</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Convert KDE4 GUI markup to plain text.</p>
  <p>KDE4 GUI texts may contain both Qt rich-text and KUIT markup, even 
  mixed in the same text. Note that the conversion cannot be achieved, in 
  general, by first converting Qt rich-text, and then KUIT, or vice versa. 
  For example, if the text has <code>&amp;lt;</code> entity, after first 
  conversion it will become plain <code>&lt;</code>, and interfere with 
  second conversion.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text</code></strong> (string) - KDE4 text to convert to plain</li>
    </ul></dd>
    <dt>Returns: string</dt>
        <dd>plain text version</dd>
  </dl>
</td></tr></table>
</div>
<a name="docbook4_to_plain"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">docbook4_to_plain</span>(<span class="sig-arg">text</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Convert Docbook 4.x markup to plain text.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text</code></strong> (string) - Docbook text to convert to plain</li>
    </ul></dd>
    <dt>Returns: string</dt>
        <dd>plain text version</dd>
  </dl>
</td></tr></table>
</div>
<a name="collect_xml_spec_l1"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">collect_xml_spec_l1</span>(<span class="sig-arg">specpath</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Collect informal XML format specification, level 1.</p>
  <p>Level 1 specification is the dictionary of all known tags, with 
  allowed attributes (by name only) for each.</p>
  <p>File of the level 1 specification is in the following format:</p>
<pre class="literalblock">
   # A comment.
   tagA;  # tag without any attributes
   tagB: attr1, attr2;  # tag having some attributes
   tagC: attr1, attr2, attr3, attr4,
         attr5, attr6;  # tag with many attributes, split over lines
</pre>
  <p>The specification can contain a dummy tag named 
  <code>pe-common-attrib</code>, stating attributes which are common to all
  tags, instead of having to list them with each and every tag.</p>
  <p>Specification file must be UTF-8 encoded.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>specpath</code></strong> (string) - path to level 1 specification file</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>level 1 specification</dd>
  </dl>
</td></tr></table>
</div>
<a name="check_xml_l1"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">check_xml_l1</span>(<span class="sig-arg">text</span>,
        <span class="sig-arg">spec</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">xmlfmt</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">ents</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">casesens</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">accelamp</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Validate XML markup in text against <a 
  href="pology.misc.markup-module.html#collect_xml_spec_l1" 
  class="link">level1</a> specification.</p>
  <p>Text is not required to have a top tag; if it does not, a dummy one 
  will be assigned to assure that the check passes.</p>
  <p>If <code>spec</code> is <code>None</code>, text is only checked to be 
  well-formed.</p>
  <p>If <code>ents</code> are <code>None</code>, entities in the text are 
  ignored by the check; otherwise, an entity not belonging to the known set
  is considered erroneous. Default XML entities (<code>&amp;lt;</code>, 
  <code>&amp;gt;</code>, <code>&amp;amp;</code>, <code>&amp;quot;</code>, 
  <code>&amp;apos;</code>) are automatically added to the set of known 
  entities.</p>
  <p>Tag and attribute names can be made case-insensitive by setting 
  <code>casesens</code> to <code>False</code>.</p>
  <p>If text is a part of user interface, and the environment may use the 
  literal ampersand as accelerator marker, it can be allowed to pass the 
  check by setting <code>accelamp</code> to <code>True</code>.</p>
  <p>The result of the check is list of erroneous spans in the text, each 
  given by start and end index (in Python standard semantics), and the 
  error description, packed in a tuple. If there are no errors, empty list 
  is returned. Reported spans need not be formally complete with respect to
  the error location, but are heuristically determined to be short and 
  provide good visual indication of what triggers the error.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text</code></strong> (string) - text to check</li>
        <li><strong class="pname"><code>spec</code></strong> (<a href="pology.misc.markup-module.html#collect_xml_spec_l1" 
          class="link">level1</a> specification) - markup definition</li>
        <li><strong class="pname"><code>xmlfmt</code></strong> (string) - name of the particular XML format (for error messages)</li>
        <li><strong class="pname"><code>ents</code></strong> (sequence) - set of known entities</li>
        <li><strong class="pname"><code>casesens</code></strong> (bool) - whether tag names are case-insensitive</li>
        <li><strong class="pname"><code>accelamp</code></strong> (bool) - whether to allow ampersand as accelerator marker</li>
    </ul></dd>
    <dt>Returns: list of (int, int, string) tuples</dt>
        <dd>erroneous spans in the text</dd>
  </dl>
</td></tr></table>
</div>
<a name="check_xml_docbook4_l1"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">check_xml_docbook4_l1</span>(<span class="sig-arg">text</span>,
        <span class="sig-arg">ents</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Validate Docbook 4.x markup in text against <a 
  href="pology.misc.markup-module.html#collect_xml_spec_l1" 
  class="link">level1</a> specification.</p>
  <p>Markup definition is extended to include 
  <code>&lt;placeholder-N/&gt;</code> elements, which <code>xml2po</code> 
  uses to segment text when extracting markup documents into PO 
  templates.</p>
  <p>See <a href="pology.misc.markup-module.html#check_xml_l1" 
  class="link">check_xml_l1</a> for description of the <code>ents</code> 
  parameter and the return value.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text</code></strong> (string) - text to check</li>
        <li><strong class="pname"><code>ents</code></strong> (sequence) - set of known entities (in addition to default)</li>
    </ul></dd>
    <dt>Returns: list of (int, int, string) tuples</dt>
        <dd>erroneous spans in the text</dd>
  </dl>
</td></tr></table>
</div>
<a name="check_placeholder_els"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">check_placeholder_els</span>(<span class="sig-arg">orig</span>,
        <span class="sig-arg">trans</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Check if sets of <code>&lt;placeholder-N/&gt;</code> elements are 
  matching between original and translated text.</p>
  <p><code>&lt;placeholder-N/&gt;</code> elements are added into text by 
  <code>xml2po</code>, for finer segmentation of markup documents extracted
  into PO templates.</p>
  <p>See <a href="pology.misc.markup-module.html#check_xml_l1" 
  class="link">check_xml_l1</a> for description of the return value.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>orig</code></strong> (string) - original text</li>
        <li><strong class="pname"><code>trans</code></strong> (string) - translated text</li>
    </ul></dd>
    <dt>Returns: list of (int, int, string) tuples</dt>
        <dd>erroneous spans in translation</dd>
  </dl>
</td></tr></table>
</div>
<a name="check_xml_qtrich_l1"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">check_xml_qtrich_l1</span>(<span class="sig-arg">text</span>,
        <span class="sig-arg">ents</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Validate Qt rich-text markup in text against <a 
  href="pology.misc.markup-module.html#collect_xml_spec_l1" 
  class="link">level1</a> specification.</p>
  <p>At the moment, this function can only check Qt rich-text if 
  well-formed in the XML sense, although Qt rich-text allows HTML-type 
  omission of closing tags.</p>
  <p>See <a href="pology.misc.markup-module.html#check_xml_l1" 
  class="link">check_xml_l1</a> for description of the <code>ents</code> 
  parameter and the return value.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text</code></strong> (string) - text to check</li>
        <li><strong class="pname"><code>ents</code></strong> (sequence) - set of known entities (in addition to default)</li>
    </ul></dd>
    <dt>Returns: list of (int, int, string) tuples</dt>
        <dd>erroneous spans in the text</dd>
  </dl>
</td></tr></table>
</div>
<a name="check_xml_kuit_l1"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">check_xml_kuit_l1</span>(<span class="sig-arg">text</span>,
        <span class="sig-arg">ents</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Validate KUIT markup in text against <a 
  href="pology.misc.markup-module.html#collect_xml_spec_l1" 
  class="link">level1</a> specification.</p>
  <p>KUIT is the semantic markup for user interface in KDE4.</p>
  <p>See <a href="pology.misc.markup-module.html#check_xml_l1" 
  class="link">check_xml_l1</a> for description of the <code>ents</code> 
  parameter and the return value.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text</code></strong> (string) - text to check</li>
        <li><strong class="pname"><code>ents</code></strong> (sequence) - set of known entities (in addition to default)</li>
    </ul></dd>
    <dt>Returns: list of (int, int, string) tuples</dt>
        <dd>erroneous spans in the text</dd>
  </dl>
</td></tr></table>
</div>
<a name="check_xml_kde4_l1"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">check_xml_kde4_l1</span>(<span class="sig-arg">text</span>,
        <span class="sig-arg">ents</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Validate markup in texts used in KDE4 GUI.</p>
  <p>KDE4 GUI texts may contain both Qt rich-text and KUIT markup, even 
  mixed in the same text.</p>
  <p>See <a href="pology.misc.markup-module.html#check_xml_l1" 
  class="link">check_xml_l1</a> for description of the <code>ents</code> 
  parameter and the return value.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text</code></strong> (string) - text to check</li>
        <li><strong class="pname"><code>ents</code></strong> (sequence) - set of known entities (in addition to default)</li>
    </ul></dd>
    <dt>Returns: list of (int, int, string) tuples</dt>
        <dd>erroneous spans in the text</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== VARIABLES DETAILS ==================== -->
<a name="section-VariablesDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Variables Details</span></td>
</tr>
</table>
<a name="xml_entities"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">xml_entities</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
<code class="variable-group">{</code><code class="variable-quote">'</code><code class="variable-string">amp</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">'</code><code class="variable-string">&amp;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">apos</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">'</code><code class="variable-string">\'</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">gt</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">'</code><code class="variable-string">&gt;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">lt</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">'</code><code class="variable-string">&lt;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">quot</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">'</code><code class="variable-string">&quot;</code><code class="variable-quote">'</code><code class="variable-group">}</code>
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="pology-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>

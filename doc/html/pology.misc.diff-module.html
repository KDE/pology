<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>pology.misc.diff</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="pology-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="pology-module.html">Package&nbsp;pology</a> ::
        <a href="pology.misc-module.html">Package&nbsp;misc</a> ::
        Module&nbsp;diff
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module diff</h1><p class="nomargin-top"></p>
<p>Producing diffs between texts.</p>

<hr />
<div class="fields">      <p><strong>Author:</strong>
        Chusslove Illich (&#1063;&#1072;&#1089;&#1083;&#1072;&#1074; &#1048;&#1083;&#1080;&#1115;) &lt;caslav.ilic@gmx.net&gt;
      </p>
      <p><strong>License:</strong>
        GPLv3
      </p>
</div><!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Functions</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of tuples or (list of tuples, float)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.diff-module.html#word_diff" class="summary-sig-name">word_diff</a>(<span class="summary-sig-arg">text_old</span>,
        <span class="summary-sig-arg">text_new</span>,
        <span class="summary-sig-arg">markup</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">format</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">diffr</span>=<span class="summary-sig-default">False</span>)</span><br />
      Create word-level difference between old and new text.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string or None or (string or None, float)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.diff-module.html#word_ediff" class="summary-sig-name">word_ediff</a>(<span class="summary-sig-arg">text_old</span>,
        <span class="summary-sig-arg">text_new</span>,
        <span class="summary-sig-arg">markup</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">format</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">hlto</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">diffr</span>=<span class="summary-sig-default">False</span>)</span><br />
      Create word-level embedded difference between old and new texts.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string or None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.diff-module.html#word_ediff_to_old" class="summary-sig-name">word_ediff_to_old</a>(<span class="summary-sig-arg">dtext</span>)</span><br />
      Recover old version (-) from text with embedded differences.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string or None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.diff-module.html#word_ediff_to_new" class="summary-sig-name">word_ediff_to_new</a>(<span class="summary-sig-arg">dtext</span>)</span><br />
      Recover new version (+) from text with embedded differences.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of word-diffs or (list of word-diffs, float)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.diff-module.html#line_word_diff" class="summary-sig-name">line_word_diff</a>(<span class="summary-sig-arg">lines_old</span>,
        <span class="summary-sig-arg">lines_new</span>,
        <span class="summary-sig-arg">markup</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">format</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">diffr</span>=<span class="summary-sig-default">False</span>)</span><br />
      Create word-level difference between old and new lines of text.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of (string, float), float</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.diff-module.html#line_word_ediff" class="summary-sig-name">line_word_ediff</a>(<span class="summary-sig-arg">lines_old</span>,
        <span class="summary-sig-arg">lines_new</span>,
        <span class="summary-sig-arg">markup</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">format</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">hlto</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">diffr</span>=<span class="summary-sig-default">False</span>)</span><br />
      Create word-level embedded difference between old and new lines of 
      text.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of strings</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.diff-module.html#line_word_ediff_to_old" class="summary-sig-name">line_word_ediff_to_old</a>(<span class="summary-sig-arg">dlines</span>)</span><br />
      Recover old version (-) from lines of text with embedded differences.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of strings</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.diff-module.html#line_word_ediff_to_new" class="summary-sig-name">line_word_ediff_to_new</a>(<span class="summary-sig-arg">dlines</span>)</span><br />
      Recover new version (+) from lines of text with embedded differences.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of index tuples</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pology.misc.diff-module.html#adapt_spans" class="summary-sig-name">adapt_spans</a>(<span class="summary-sig-arg">otext</span>,
        <span class="summary-sig-arg">ftext</span>,
        <span class="summary-sig-arg">spans</span>,
        <span class="summary-sig-arg">merge</span>=<span class="summary-sig-default">True</span>)</span><br />
      Adapt matched spans in filtered text to original text.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Function Details</span></td>
</tr>
</table>
<a name="word_diff"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">word_diff</span>(<span class="sig-arg">text_old</span>,
        <span class="sig-arg">text_new</span>,
        <span class="sig-arg">markup</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">format</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">diffr</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Create word-level difference between old and new text.</p>
  <p>The difference is computed by looking at texts as collections of words
  and intersegments. Difference is presented as a list of tuples, with each
  tuple composed of a difference tag and a text segment. Difference tag is 
  string <code>&quot;+&quot;</code>, <code>&quot;-&quot;</code>, or 
  <code>&quot; &quot;</code>, for text segments which are new, old, or 
  present in both texts, respectively. If one of the texts is 
  <code>None</code>, as opposed to empty string, a tilde is appended to the
  base difference tag.</p>
  <p>The list is ordered such that joining all text segments not marked as 
  old will reconstruct the new text, and joining all not marked as new will
  reconstruct the old text.</p>
  <p>If requested by the <code>diffr</code> parameter, also reported is the
  <i>difference ratio</i>, a heuristic measure of difference between two 
  texts. 0.0 means no difference, and 1.0 that the texts are completely 
  different.</p>
  <p>Differencing may take into account when the texts are expected to have
  XML-like markup, or when they are of certain format defined by 
  Gettext.</p>
  <p>Examples:</p>
<pre class="literalblock">
   &gt;&gt;&gt; s1 = &quot;A new type of foo.&quot;
   &gt;&gt;&gt; s2 = &quot;A new kind of foo.&quot;
   &gt;&gt;&gt; word_diff(s1, s2)
   [(' ', 'A new '), ('+', 'kind'), ('-', 'type'), (' ', ' of foo.')]
   &gt;&gt;&gt; word_diff(s1, s2, diffr=True)
   ([(' ', 'A new '), ('+', 'kind'), ('-', 'type'), (' ', ' of foo.')],
   0.36363636363636365)
   &gt;&gt;&gt; word_diff(s1, None, diffr=True)
   ([('-~', 'A new type of foo.')], 1.0)
   &gt;&gt;&gt; word_diff(None, s2, diffr=True)
   ([('+~', 'A new kind of foo.')], 1.0)
</pre>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text_old</code></strong> (string or None) - the old text</li>
        <li><strong class="pname"><code>text_new</code></strong> (string or None) - the new text</li>
        <li><strong class="pname"><code>markup</code></strong> (bool) - whether <code>&lt;...&gt;</code> markup can be expected in the 
          texts</li>
        <li><strong class="pname"><code>format</code></strong> (string) - Gettext format flag (e.g. <code>&quot;c-format&quot;</code>, 
          etc.)</li>
        <li><strong class="pname"><code>diffr</code></strong> (bool) - whether to report difference ratio</li>
    </ul></dd>
    <dt>Returns: list of tuples or (list of tuples, float)</dt>
        <dd>difference list and possibly difference ratio</dd>
  </dl>
</td></tr></table>
</div>
<a name="word_ediff"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">word_ediff</span>(<span class="sig-arg">text_old</span>,
        <span class="sig-arg">text_new</span>,
        <span class="sig-arg">markup</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">format</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">hlto</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">diffr</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Create word-level embedded difference between old and new texts.</p>
  <p>Same as <a href="pology.misc.diff-module.html#word_diff" 
  class="link">word_diff</a>, but the difference is returned as text in 
  which the new segments are wrapped as <code>{+...+}</code>, and the old 
  segments as <code>{-...-}</code>. If a difference wrapper is already 
  contained in the text, it will be escaped by inserting a tilde, e.g. 
  <code>&quot;{+...+}&quot;</code> -&gt; 
  <code>&quot;{~+...+~}&quot;</code>. If even an escaped wrapper is 
  contained in the text, another tilde is inserted, and so on.</p>
  <p>If one of the texts is <code>None</code>, then the whole other text is
  wrapped as suitable difference, and a tilde added to its end to indicate 
  that the other text was <code>None</code>. If neither of the texts is 
  <code>None</code>, but after differencing the tilde appears in the end of
  embedded difference, it is escaped by another tilde. If both texts are 
  <code>None</code>, <code>None</code> is returned as the difference.</p>
  <p>The <code>hlto</code> parameter can be used to additionally highlight 
  embedded difference for an output descriptor pointed to by it (e.g. 
  colorized for the shell if given as <code>sys.stdout</code>). If 
  highlighting is applied, <a 
  href="pology.misc.diff-module.html#word_ediff_to_old" 
  class="link">word_ediff_to_old</a> and <a 
  href="pology.misc.diff-module.html#word_ediff_to_new" 
  class="link">word_ediff_to_new</a> cannot be used to recover the original
  texts.</p>
  <p>See <a href="pology.misc.diff-module.html#word_diff" 
  class="link">word_diff</a> for description of other parameters.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hlto</code></strong> (file descriptor) - destination to produce extra highlighting for</li>
    </ul></dd>
    <dt>Returns: string or None or (string or None, float)</dt>
        <dd>string with embedded differences and possibly difference ratio</dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <a href="pology.misc.diff-module.html#word_diff" 
        class="link">word_diff</a>
      </p>
</div></td></tr></table>
</div>
<a name="word_ediff_to_old"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">word_ediff_to_old</span>(<span class="sig-arg">dtext</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Recover old version (-) from text with embedded differences.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dtext</code></strong> (string) - text with embedded differences</li>
    </ul></dd>
    <dt>Returns: string or None</dt>
        <dd>old version of the text</dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <a href="pology.misc.diff-module.html#word_ediff" 
        class="link">word_ediff</a>
      </p>
</div></td></tr></table>
</div>
<a name="word_ediff_to_new"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">word_ediff_to_new</span>(<span class="sig-arg">dtext</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Recover new version (+) from text with embedded differences.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dtext</code></strong> (string) - text with embedded differences</li>
    </ul></dd>
    <dt>Returns: string or None</dt>
        <dd>new version of the text</dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <a href="pology.misc.diff-module.html#word_ediff" 
        class="link">word_ediff</a>
      </p>
</div></td></tr></table>
</div>
<a name="line_word_diff"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">line_word_diff</span>(<span class="sig-arg">lines_old</span>,
        <span class="sig-arg">lines_new</span>,
        <span class="sig-arg">markup</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">format</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">diffr</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Create word-level difference between old and new lines of text.</p>
  <p>First makes a difference on a line-level, and then for each set of 
  differing lines a difference on word-level, using <a 
  href="pology.misc.diff-module.html#word_diff" class="link">word_diff</a>.
  Difference is presented as a list of tuples of word diffs and ratios as 
  constructed by <a href="pology.misc.diff-module.html#word_diff" 
  class="link">word_diff</a>. See <a 
  href="pology.misc.diff-module.html#word_diff" class="link">word_diff</a> 
  for description of keyword parameters. The difference ratio is computed 
  as line-length weighted average of word difference ratios per line.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lines_old</code></strong> (string) - old lines of text</li>
        <li><strong class="pname"><code>lines_new</code></strong> (string) - new lines of text</li>
    </ul></dd>
    <dt>Returns: list of word-diffs or (list of word-diffs, float)</dt>
        <dd>difference list and possibly difference ratio</dd>
  </dl>
</td></tr></table>
</div>
<a name="line_word_ediff"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">line_word_ediff</span>(<span class="sig-arg">lines_old</span>,
        <span class="sig-arg">lines_new</span>,
        <span class="sig-arg">markup</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">format</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">hlto</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">diffr</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Create word-level embedded difference between old and new lines of 
  text.</p>
  <p>Same as <a href="pology.misc.diff-module.html#line_word_diff" 
  class="link">line_word_diff</a>, but the difference is returned as list 
  of tuples of line of text (in which the new segments are wrapped as 
  <code>{+...+}</code>, and the old segments as <code>{-...-}</code>) and 
  difference ratio for the line. See <a 
  href="pology.misc.diff-module.html#word_diff" class="link">word_diff</a> 
  and <a href="pology.misc.diff-module.html#word_ediff" 
  class="link">word_ediff</a> for description of keyword parameters.</p>
  <dl class="fields">
    <dt>Returns: list of (string, float), float</dt>
        <dd>list of lines and partial difference ratios, and total ratio</dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <a href="pology.misc.diff-module.html#line_word_diff" 
        class="link">line_word_diff</a>
      </p>
</div></td></tr></table>
</div>
<a name="line_word_ediff_to_old"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">line_word_ediff_to_old</span>(<span class="sig-arg">dlines</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Recover old version (-) from lines of text with embedded 
  differences.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dlines</code></strong> (list of strings) - lines of text with embedded differences</li>
    </ul></dd>
    <dt>Returns: list of strings</dt>
        <dd>old version of the lines</dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <a href="pology.misc.diff-module.html#line_word_ediff" 
        class="link">line_word_ediff</a>
      </p>
</div></td></tr></table>
</div>
<a name="line_word_ediff_to_new"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">line_word_ediff_to_new</span>(<span class="sig-arg">dlines</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Recover new version (+) from lines of text with embedded 
  differences.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dlines</code></strong> (list of strings) - lines of text with embedded differences</li>
    </ul></dd>
    <dt>Returns: list of strings</dt>
        <dd>new version of the lines</dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <a href="pology.misc.diff-module.html#line_word_ediff" 
        class="link">line_word_ediff</a>
      </p>
</div></td></tr></table>
</div>
<a name="adapt_spans"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">adapt_spans</span>(<span class="sig-arg">otext</span>,
        <span class="sig-arg">ftext</span>,
        <span class="sig-arg">spans</span>,
        <span class="sig-arg">merge</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Adapt matched spans in filtered text to original text.</p>
  <p>Sometimes text gets filtered before being matched, and when a match is
  found in the filtered text, it needs to be reported relative to the 
  original text. This function will heuristically adapt matched spans 
  relative to the filtered text back to the original text.</p>
  <p>Spans are given as list of index tuples <code>[(start1, end1), 
  ...]</code> where start and end index have standard Python semantics (may
  be negative too). If <code>merge</code> is <code>True</code>, any spans 
  that overlap or abut after adaptation will be merged into a single span, 
  ordered by increasing start index, and empty spans removed; otherwise 
  each adapted span will strictly correspond to the input span at that 
  position.</p>
  <p>Span tuples may have more elements past the start and end indices. 
  They will be ignored, but preserved; if merging is in effect, extra 
  elements will be preserved for only the frontmost of the overlapping 
  spans (undefined for which if there are several).</p>
  <p>If any of the input spans are invalid, the results are undefined.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>otext</code></strong> (string) - original text</li>
        <li><strong class="pname"><code>ftext</code></strong> (string) - filtered text</li>
        <li><strong class="pname"><code>spans</code></strong> (list of index tuples) - matched spans</li>
        <li><strong class="pname"><code>merge</code></strong> (bool) - whether to merge overlapping spans</li>
    </ul></dd>
    <dt>Returns: list of index tuples</dt>
        <dd>adapted spans</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="pology-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
